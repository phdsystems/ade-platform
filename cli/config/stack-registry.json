{
  "conventions": {
    "domainLayout": {
      "enforce": true,
      "basePattern": "{domain}",
      "requiredSubdirs": ["src","docs","tests","deploy"],
      "denyAtRoot": ["src","docs","tests"]
    }
  },
  "languages": {
    "python": {
      "frameworks": {
        "fastapi": {
          "deployment": { "defaultPort": 8000 },
          "scaffold": {
            "folders": ["src/app","tests","docs","deploy"],
            "files": {
              "src/app/main.py": "TEMPLATE_REF::fastapi/app/main.py",
              "requirements.txt": "TEMPLATE_REF::fastapi/requirements.txt",
              "deploy/Dockerfile": "TEMPLATE_REF::fastapi/Dockerfile",
              "docs/README.md": "# {{serviceName}}\n",
              ".env.example": "PORT={{port}}\nSERVICE_NAME={{serviceName}}\n"
            }
          }
        }
      }
    },
    "node": {
      "frameworks": {
        "express": {
          "deployment": { "defaultPort": 8000 },
          "scaffold": {
            "folders": ["src","tests","docs","deploy"],
            "files": {
              "src/index.mjs": "TEMPLATE_REF::express/src/index.mjs",
              "package.json": "TEMPLATE_REF::express/package.json",
              "deploy/Dockerfile": "TEMPLATE_REF::express/Dockerfile",
              "docs/README.md": "# {{serviceName}}\n",
              ".env.example": "PORT={{port}}\nSERVICE_NAME={{serviceName}}\n"
            }
          }
        }
      }
    },
    "go": {
      "frameworks": {
        "fiber": {
          "deployment": { "defaultPort": 8000 },
          "scaffold": {
            "folders": ["cmd/{{serviceName}}","tests","docs","deploy"],
            "files": {
              "cmd/{{serviceName}}/main.go": "TEMPLATE_REF::go-fiber/cmd/serviceName/main.go",
              "go.mod": "module example.com/{{serviceName}}\n\ngo 1.22\n\nrequire github.com/gofiber/fiber/v2 v2.52.0\n",
              "deploy/Dockerfile": "TEMPLATE_REF::go-fiber/Dockerfile",
              "docs/README.md": "# {{serviceName}}\n",
              ".env.example": "PORT={{port}}\nSERVICE_NAME={{serviceName}}\n"
            }
          }
        }
      }
    }
  }
}
